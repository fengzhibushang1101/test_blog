{"version":3,"sources":["../../run/jiaoben.js"],"names":["request","require","cheerio","fs","text_list","res","error","body","exec_data","$","load","urls","find","get","map","a","push","attr","tt","setInterval","i","get_content","print_content","length","console","log","join","clearInterval","text"],"mappings":";;AAAA;;;;AAKA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,UAAUD,QAAQ,SAAR,CAAd;AACA,IAAIE,KAAKF,QAAQ,IAAR,CAAT;AACA,IAAIG,YAAY,EAAhB;AACAJ,QAAQ,6BAAR,EAAuC,UAASK,GAAT,EAAcC,KAAd,EAAqBC,IAArB,EAA0B;AAC7DC,cAAUD,IAAV;AACH,CAFD;AAGA,SAASC,SAAT,CAAmBD,IAAnB,EAAwB;AACpB,QAAIE,IAAIP,QAAQQ,IAAR,CAAaH,IAAb,CAAR;AACA,QAAII,OAAO,EAAX;AACAF,MAAE,YAAF,EAAgBG,IAAhB,CAAqB,GAArB,EAA0BC,GAA1B,GAAgCC,GAAhC,CAAoC,UAASC,CAAT,EAAW;AAC3CJ,aAAKK,IAAL,CAAUP,EAAEM,CAAF,EAAKE,IAAL,CAAU,MAAV,CAAV;AACH,KAFD;AAGAR,MAAE,YAAF,EAAgBG,IAAhB,CAAqB,GAArB,EAA0BC,GAA1B,GAAgCC,GAAhC,CAAoC,UAASC,CAAT,EAAW;AAC3CJ,aAAKK,IAAL,CAAUP,EAAEM,CAAF,EAAKE,IAAL,CAAU,MAAV,CAAV;AACH,KAFD;AAGA,QAAIC,KAAKC,YAAa,YAAU;AAC5B,YAAIC,IAAI,CAAR;AACA,iBAASC,WAAT,GAAsB;AAClBrB,oBAAQ,qBAAmBW,KAAKS,CAAL,CAA3B,EAAoC,UAASf,GAAT,EAAcC,KAAd,EAAqBC,IAArB,EAA0B;AAC1De,8BAAcf,IAAd;AACH,aAFD;AAGAa;AACA,gBAAGA,IAAET,KAAKY,MAAV,EAAiB;AACbC,wBAAQC,GAAR,CAAYrB,UAAUsB,IAAV,CAAe,IAAf,CAAZ;AACAC,8BAAcT,EAAd;AACH;AACJ;AACD,eAAOG,WAAP;AACH,KAboB,EAAZ,EAaH,IAbG,CAAT;AAcH;AACD,SAASC,aAAT,CAAuBf,IAAvB,EAA4B;AACxB,QAAIE,IAAIP,QAAQQ,IAAR,CAAaH,IAAb,CAAR;AACAH,cAAUY,IAAV,CAAeP,EAAE,OAAF,EAAWG,IAAX,CAAgB,IAAhB,EAAsBgB,IAAtB,EAAf;AACAxB,cAAUY,IAAV,CAAeP,EAAE,UAAF,EAAcmB,IAAd,EAAf;AACH","file":"jiaoben.js","sourcesContent":["/**\n * Created by yueqingji on 2017/5/16.\n */\n\n\nvar request = require(\"request\");\nvar cheerio = require(\"cheerio\");\nvar fs = require(\"fs\");\nvar text_list = [];\nrequest(\"http://lvxsw.com/txt/33809/\", function(res, error, body){\n    exec_data(body);\n});\nfunction exec_data(body){\n    let $ = cheerio.load(body);\n    let urls = [];\n    $(\"#part33431\").find(\"a\").get().map(function(a){\n        urls.push($(a).attr(\"href\"))\n    });\n    $(\"#part33432\").find(\"a\").get().map(function(a){\n        urls.push($(a).attr(\"href\"));\n    });\n    let tt = setInterval((function(){\n        var i = 0;\n        function get_content(){\n            request(\"http://lvxsw.com\"+urls[i], function(res, error, body){\n                print_content(body);\n            });\n            i++;\n            if(i>urls.length){\n                console.log(text_list.join(\"\\n\"));\n                clearInterval(tt);\n            }\n        }\n        return get_content\n    })(), 1000)\n}\nfunction print_content(body){\n    let $ = cheerio.load(body);\n    text_list.push($(\"#main\").find(\"h1\").text());\n    text_list.push($(\"#content\").text());\n}"]}