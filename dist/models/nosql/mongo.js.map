{"version":3,"sources":["../../../models/nosql/mongo.js"],"names":["settings","require","Db","Connection","Sever","Server","module","exports","db","host","port"],"mappings":";;AAAA;;;AAGA,IAAMA,WAAWC,QAAQ,gBAAR,CAAjB;AACA,IAAMC,KAAKD,QAAQ,SAAR,EAAmBC,EAA9B;AACA,IAAMC,aAAaF,QAAQ,SAAR,EAAmBE,UAAtC;AACA,IAAMC,QAAQH,QAAQ,SAAR,EAAmBI,MAAjC;;AAEAC,OAAOC,OAAP,GAAiB,IAAIL,EAAJ,CAAOF,SAASQ,EAAhB,EAAoB,IAAIJ,KAAJ,CAAUJ,SAASS,IAAnB,EAAyBT,SAASU,IAAlC,CAApB,EAA6D,EAAC,QAAQ,IAAT,EAA7D,CAAjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mongo.js","sourcesContent":["/**\n * Created by yueqingji on 2017/7/9.\n */\nconst settings = require(\"../../settings\");\nconst Db = require(\"mongodb\").Db;\nconst Connection = require(\"mongodb\").Connection;\nconst Sever = require(\"mongodb\").Server;\n\nmodule.exports = new Db(settings.db, new Sever(settings.host, settings.port), {\"safe\": true});\n//\n//\n// let server = new Sever(\"localhost\", 27017);\n// let conn =  new Db(\"blog\", server, {\"safe\": true});\n// conn.open(function(err, db){\n//     if(err) console.log(err);\n//     console.log(123);\n//     db.collection(\"users\", {\"safe\": true},function(err,collection){\n//         if(err) throw err ;\n//         collection.find().toArray(function(e,docs){\n//             if(e) throw e ;\n//             console.log(docs) ;\n//         }) ;\n//     })\n// });\n//\n// var MongoClient = require('mongodb').MongoClient;\n// var DB_CONN_STR = 'mongodb://localhost:27017/runoob'; // 数据库为 runoob\n//\n// var insertData = function(db, callback) {\n//     //连接到表 site\n//     var collection = db.collection('site');\n//     //插入数据s\n//     var data = [{\"name\":\"菜鸟教程\",\"url\":\"www.runoob.com\"},{\"name\":\"菜鸟工具\",\"url\":\"c.runoob.com\"}];\n//     collection.insert(data, function(err, result) {\n//         if(err)\n//         {\n//             console.log('Error:'+ err);\n//             return;\n//         }\n//         callback(result);\n//     });\n// }\n//\n// MongoClient.connect(DB_CONN_STR, function(err, db) {\n//     console.log(\"连接成功！\");\n//     insertData(db, function(result) {\n//         console.log(result);\n//         db.close();\n//     });\n// });\n//\n// var mongo = require(\"mongodb\");\n// var host = \"localhost\";\n// var port = 27017;\n// //创建MongoDB数据库所在服务器的Server对象\n// var server2= new mongo.Server(host, port, {auto_reconnect:true});\n// //创建MongoDB数据库\n// var db = new mongo.Db('node-mongo-example', server2, {safe:true});\n// //数据库连接操作\n// try{\n//     db.open(function(err, db){\n//         if(err) {\n//             console.log('连接数据库发生错误');\n//             throw err;\n//         }\n//         else{\n//             console.log(\"成功建立数据库连接\");\n//             db.close();\n//         }\n//     });\n//     db.on('close',function(err,db){\n//         if (err) {throw err;}\n//         else{\n//             console.log(\"成功关闭数据库\");\n//         }\n//     });\n// }catch(e){\n//     console.log(\"123\");\n//     console.log(e.toString())\n// }\n"]}